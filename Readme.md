# 钓鱼小游戏设计文档

## 游戏概述

这是一个专为移动端设计的简体中文钓鱼小游戏，核心循环为：选择鱼饵 → 抛竿 → 等待咬钩 → 收线小游戏 → 收获鱼类 → 管理背包 → 出售获利 → 解锁新内容。

## 核心机制

### 1. 鱼饵系统
- **基础鱼饵**：8豆，适合新手，主要钓到常见鱼类
- **高级鱼饵**：20豆，更好的鱼类品质，稀有鱼概率提升
- **黄金鱼饵**：50豆，最高品质鱼类，传说鱼概率最高

### 2. 收线小游戏
- **从100%开始缩小**：绿色区域从90%屏幕宽度开始，逐渐缩小到目标宽度
- **分阶段收缩**：快速收缩阶段 → 慢速收缩阶段，速度由鱼类配置决定
- **动态位置**：绿色区域在收缩过程中保持居中，最终可在轴上任意位置出现
- **精确命中判断**：浮点数容差避免边界误判，实时位置记录确保准确性
- **视觉反馈**：命中/失误位置实时显示，成功绿色/失误红色指示器

### 3. 能量系统
- **基础能量**：每种鱼类有不同的初始能量要求（20-400点）
- **能量衰减**：实时衰减，速度因鱼类而异（1.3-6.0/秒）
- **能量获取**：命中获得5-20点能量，精确度影响获得量
- **能量损失**：失误损失3-8点能量
- **失败条件**：能量耗尽时鱼类逃脱

### 4. 30种真实鱼类系统

#### 新手鱼类（解锁等级0-12）
- **鲫鱼、金鱼、小鲫鱼、白条鱼**：难度低，价值8-15豆
- **泥鳅、池沼公鱼、蓝鳃太阳鱼、鲈鱼**：进阶练习，价值6-22豆

#### 进阶鱼类（解锁等级15-32）
- **草鱼、鲢鱼、鳙鱼、青鱼**：中等难度，价值26-55豆
- **鲤鱼、鲶鱼、桂鱼、鳜鱼**：挑战性增加，价值42-65豆

#### 高级鱼类（解锁等级35-45）
- **鲟鱼、中华鲟、白鲟、大鲵**：高难度，价值120-200豆
- **江豚、中华倒刺鲃、乌鳢、武昌鱼**：专业挑战，价值68-300豆

#### 传说鱼类（解锁等级50-80）
- **龙鱼、金龙鱼、凤鱼、水晶鱼**：极限挑战，价值500-1000豆
- **彩虹鱼、神话锦鲤**：终极目标，价值750-1500豆

### 5. 渐进解锁系统
- **鱼类解锁**：通过钓到鱼的总数量解锁新鱼类
- **场景解锁**：
  - 村庄池塘（0条）：基础场景
  - 山间小溪（15条）：清澈溪流
  - 湖心深处（35条）：神秘深水区
  - 长江支流（50条）：奔腾江水
  - 东海近岸（70条）：波涛海域
  - 传说之地（100条）：神话圣地
- **图鉴系统**：已解锁鱼类显示详细信息，未解锁显示解锁条件

## 视觉与动画系统

### 1. 湖面效果
- **渐变背景**：蓝色渐变模拟湖水深度
- **水波动画**：CSS动画模拟水面波动
- **涟漪效果**：鱼咬钩时的水面涟漪

### 2. 钓鱼动画
- **鱼竿动画**：收线时的上下摆动
- **鱼线动画**：与鱼竿协调的拉扯效果
- **浮标动画**：咬钩时的晃动，收线时的移动
- **命中指示器**：实时显示点击位置和成功/失误状态

### 3. UI动画
- **弹窗居中**：背包/图鉴正确居中显示
- **状态转换**：流畅的状态切换动画
- **反馈动画**：按钮点击、能量变化等视觉反馈

## 游戏难度设计

### 1. 每鱼类独特配置
```javascript
zoneConfig: {
  initialWidthMultiplier: 0.65-1.4,  // 最终目标宽度倍数
  fastShrinkSpeed: 1.6-4.0,          // 快速收缩速度倍数
  slowShrinkSpeed: 0.12-0.6,         // 慢速收缩速度倍数
  slowPhaseThreshold: 0.42-0.8       // 慢速阶段转换阈值
}
```

### 2. 难度递进
- **小鱼**：大目标区域，慢收缩，低能量要求
- **中鱼**：中等目标区域，中等收缩，适中能量要求
- **大鱼**：小目标区域，快收缩，高能量要求
- **传说鱼**：极小目标区域，极快收缩，极高能量要求

### 3. 神秘感设计
- **上钩提示**：根据难度给出模糊提示，不显示鱼名
  - "感觉很轻松..." → 简单鱼类
  - "有一些阻力..." → 中等鱼类
  - "鱼线很紧！" → 困难鱼类
  - "鱼竿都在颤抖！" → 大型鱼类
  - "传说中的生物上钩了！！！" → 传说鱼类
- **钓上显示**：只有成功钓上后才显示鱼的真实名称

## 经济系统

### 收入来源
- 出售钓到的鱼类（价值6-1500豆，根据鱼类稀有度）
- 特殊事件（宝箱、垃圾等随机事件）

### 支出项目
- 鱼饵费用（8/20/50豆）

### 防卡机制
- 起始100豆，足够购买多次基础鱼饵
- 特殊事件提供额外收入保障
- 渐进解锁确保玩家总能钓到适合的鱼类

## UX文案系统

### 游戏状态提示
| 状态 | 中文文案 |
|------|----------|
| 等待咬钩 | 安静地等待鱼儿上钩... |
| 鱼咬钩了 | 🎣 有鱼上钩了！感觉很轻松... |
| 收线成功 | 🎉 成功钓到 鲫鱼！ |
| 鱼逃脱了 | 鱼逃走了... |
| 解锁新鱼 | 🐟 解锁新鱼类：草鱼、鲢鱼！ |
| 解锁场景 | 🎊 解锁新场景：山间小溪！ |

### 界面标签
| 功能 | 中文文案 |
|------|----------|
| 主要按钮 | 抛竿、收线、我的背包 |
| 选项卡 | 📦 背包、🐟 图鉴 |
| 鱼饵选择 | 基础鱼饵、高级鱼饵、黄金鱼饵 |
| 背包操作 | 全部出售、关闭 |

### 难度提示系统
| 鱼类难度 | 上钩提示 |
|----------|----------|
| 简单 | 🎣 有鱼上钩了！感觉很轻松... |
| 中等 | � 有鱼上钩了！有一些阻力... |
| 困难 | 🎣 有鱼上钩了！鱼线很紧！ |
| 极难 | 🎣 有大家伙上钩了！鱼竿都在颤抖！ |
| 传说 | 🎣 传说中的生物上钩了！！！ |

## 技术架构

### 文件结构
```
├── index.html          # 主界面和样式
├── game-data.js        # 游戏数据配置（30种鱼类）
├── fishing-game.js     # 主游戏逻辑
├── reeling-minigame.js # 收线小游戏
├── game-init.js        # 游戏初始化
└── README.md          # 项目文档
```

### 关键特性
- **模块化设计**：代码分离，便于维护
- **数据驱动**：鱼类配置外部化，易于调整
- **渐进解锁**：基于进度的内容解锁系统
- **响应式设计**：适配不同屏幕尺寸
- **性能优化**：使用requestAnimationFrame，避免内存泄漏

### 动画系统
- **CSS关键帧动画**：水波、涟漪、鱼竿摆动
- **JavaScript动画**：收线进度、命中指示器
- **协调动画**：鱼竿、鱼线、浮标同步动作

## 平衡性调优

### 难度梯度设计
```javascript
// 新手鱼类（简单）
initialWidthMultiplier: 1.3-1.4    // 较大目标区域
fastShrinkSpeed: 1.6-1.9          // 较慢收缩
energyDecay: 1.3-1.8              // 较低能量消耗

// 进阶鱼类（中等）
initialWidthMultiplier: 1.1-1.2    // 中等目标区域
fastShrinkSpeed: 2.0-2.3          // 中等收缩
energyDecay: 2.0-2.6              // 中等能量消耗

// 高级鱼类（困难）
initialWidthMultiplier: 0.9-1.0    // 较小目标区域
fastShrinkSpeed: 2.5-3.0          // 较快收缩
energyDecay: 3.0-4.0              // 较高能量消耗

// 传说鱼类（极难）
initialWidthMultiplier: 0.65-0.8   // 极小目标区域
fastShrinkSpeed: 3.2-4.0          // 极快收缩
energyDecay: 4.5-6.0              // 极高能量消耗
```

### 经济平衡
- **价值递增**：从新手8豆到传说1500豆的合理递增
- **成本控制**：鱼饵成本与预期收益匹配
- **风险回报**：高难度鱼类提供更高价值

## 扩展建议

### 短期改进
1. **音效系统**：水声、咬钩音效、成功音效
2. **触觉反馈**：移动设备振动反馈
3. **成就系统**：钓鱼里程碑奖励
4. **保存进度**：本地存储游戏进度

### 长期功能
1. **装备系统**：鱼竿、鱼线、浮标升级
2. **天气系统**：影响鱼类出现概率
3. **时间系统**：不同时间段鱼类分布
4. **比赛模式**：限时钓鱼挑战
5. **社交功能**：分享钓鱼成果
6. **虚拟货币**：多种货币系统

### 技术优化
1. **离线支持**：Service Worker缓存
2. **性能监控**：帧率监控和优化
3. **错误追踪**：异常监控和上报
4. **A/B测试**：难度参数动态调整

## 设计理念

### 核心原则
- **易学难精**：简单上手，深度挑战
- **渐进体验**：从简单到复杂的平滑过渡
- **即时反馈**：清晰的视觉和听觉反馈
- **成就感**：解锁新内容的满足感

### 用户体验
- **神秘感**：不显示即将钓到的鱼类，增加惊喜
- **技能成长**：通过经验判断鱼类难度
- **收集乐趣**：30种真实鱼类的收集目标
- **策略选择**：根据技能选择合适的鱼饵和目标

这个钓鱼小游戏通过精心设计的难度梯度、丰富的鱼类系统和渐进解锁机制，为玩家提供了一个既轻松又有挑战性的游戏体验。
